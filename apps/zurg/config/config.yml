# Zurg configuration — Real Debrid WebDAV server
# Docs: https://github.com/debridmediamanager/zurg-testing/wiki/Config
# Note: __REAL_DEBRID_API_KEY__ is replaced at container start by entrypoint.sh

zurg: v1
token: __REAL_DEBRID_API_KEY__

# Network
# host: "[::]"
# port: 9999

# Performance
check_for_changes_every_secs: 10
rate_limit_sleep_secs: 6
api_timeout_secs: 15
# concurrent_workers: 20

# Notify the organiser when new content appears on Real-Debrid.
# This triggers an immediate scan instead of waiting for the next poll interval.
on_library_update: |
  wget -q --spider --post-data= http://organiser:8080/trigger 2>/dev/null || true

# Repair — automatically re-resolves broken/expired download links
enable_repair: true
repair_every_mins: 60

# Cleanup
auto_delete_rar_torrents: true
retain_folder_name_extension: true
retain_rd_torrent_name: true
force_original_filenames: true

# Directory structure — everything goes into one flat directory.
# The organiser service handles classification into shows/films.
directories:
  all:
    group_order: 10
    group: media
    filters:
      - regex: /.*/
